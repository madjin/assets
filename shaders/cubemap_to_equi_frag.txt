uniform int iUseTexture0;
uniform samplerCube iCubeTexture0;

void main()
{
    //use fragment position to compute a theta, phi for sampling from the cubemap
    float theta = 6.28318-gl_FragCoord.x/8192.0*6.28318;
    float phi = 3.14159-gl_FragCoord.y/4096.0*3.14159;
 
    vec3 v = vec3(sin(phi) * cos(theta), cos(phi), sin(phi) * sin(theta));
    vec4 color = vec4(textureCube(iCubeTexture0, v));
    gl_FragColor=clamp(color,0.0,1.0);
}
